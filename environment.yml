# =============================================================================
# DGGS Benchmark Replication - Conda/Mamba Environment
# =============================================================================
#
# This file defines the complete Python environment for the DGGS benchmark
# replication. Using mamba/conda ensures clean GDAL installation without
# version conflicts.
#
# Usage (local):
#   mamba env create -f environment.yml
#   mamba activate dggs-benchmark
#
# Usage (Docker with micromamba):
#   micromamba install -y -n base -f environment.yml
#
# Replication of: Law & Ardo (2024)
# "Using a discrete global grid system for a scalable, interoperable, 
# and reproducible system of land-use mapping"
# https://doi.org/10.1080/20964471.2024.2429847
# =============================================================================

name: base

channels:
  - conda-forge
  - defaults

dependencies:
  # Python version
  - python=3.11
  
  # ---------------------------------------------------------------------------
  # Core geospatial - from conda-forge for clean GDAL integration
  # ---------------------------------------------------------------------------
  - gdal>=3.6
  - geopandas>=0.14
  - rasterio>=1.3
  - fiona>=1.9
  - shapely>=2.0
  - pyproj>=3.6
  
  # ---------------------------------------------------------------------------
  # Data processing
  # ---------------------------------------------------------------------------
  - numpy>=1.26
  - pandas>=2.2
  - pyarrow>=15.0
  
  # ---------------------------------------------------------------------------
  # H3 DGGS
  # ---------------------------------------------------------------------------
  - h3-py>=3.7
  
  # ---------------------------------------------------------------------------
  # Visualization
  # ---------------------------------------------------------------------------
  - matplotlib>=3.8
  - seaborn>=0.13
  
  # ---------------------------------------------------------------------------
  # Utilities
  # ---------------------------------------------------------------------------
  - tqdm>=4.66
  - click>=8.1
  - pyyaml>=6.0
  - psutil>=5.9
  
  # ---------------------------------------------------------------------------
  # Pip packages (not available in conda-forge or need specific versions)
  # ---------------------------------------------------------------------------
  - pip
  - pip:
    # H3 pandas integration
    - h3pandas>=0.2.6
    
    # Paper authors' optimized DGGS tools - these are essential!
    - vector2dggs>=0.9.0
    - raster2dggs>=0.2.0
    
    # NLM raster generation (as in paper)
    - nlmpy>=1.0.1
    
    # Memory profiling
    - memory_profiler>=0.61.0
